<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spin & Win - Glamorize Salon</title>
</head>
<body>
  <h2>ğŸ‰ Spin & Win at Glamorize Salon ğŸ‰</h2>

  <form id="spinForm">
    <input type="text" id="name" placeholder="Your Name" required><br><br>
    <input type="text" id="phone" placeholder="Phone Number" required><br><br>
    <button type="submit">Spin the Wheel</button>
  </form>

  <div id="result" style="margin-top: 20px;"></div>

  <script>
    const prizes = [
      { prize: "Free Haircut", code: "HAIRCUT20" },
      { prize: "Free Hair Wash", code: "FREEWASH" },
      { prize: "Free Manicure", code: "MANICURE30" },
      { prize: "Free Unlimited Threading", code: "UNTHREAD" },
      { prize: "Face Cleanup", code: "CLEAN30" },
      { prize: "Free Oil Head Massage", code: "OIL45" },
      { prize: "Pedicure", code: "PEDI30" },
      { prize: "â‚¹300 OFF", code: "SAVE300" },
      { prize: "Free 3 Blow Dry", code: "BLOW3" },
      { prize: "Mini Hairspa", code: "SPA20" }
    ];

    const form = document.getElementById("spinForm");
    const result = document.getElementById("result");

    form.addEventListener("submit", function(e) {
      e.preventDefault();

      const name = document.getElementById("name").value.trim();
      const phone = document.getElementById("phone").value.trim();

      if (!name || !phone) {
        result.innerHTML = "âŒ Please fill in all fields.";
        return;
      }

      const randomPrize = prizes[Math.floor(Math.random() * prizes.length)];
      const payload = {
        name: name,
        phone: phone,
        prize: randomPrize.prize,
        code: randomPrize.code
      };

      const scriptURL = "https://script.google.com/macros/s/AKfycbyWuMBjOHJ-NIIwn2SAR9Z7pTKGHyIK6QZVIok7d2X-A5aEwcexd6J8Nyuab7tlmXKZ1Q/exec";

      fetch(scriptURL, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(payload)
      })
      .then(res => res.text())
      .then(response => {
        if (response.toLowerCase().includes("success")) {
          result.innerHTML = `<h3>ğŸ You won: ${randomPrize.prize}</h3><p>Coupon Code: <strong>${randomPrize.code}</strong></p>`;
        } else {
          result.innerHTML = "âš ï¸ Error from server: " + response;
        }
        form.reset();
      })
      .catch(err => {
        console.error("Fetch Error:", err);
        result.innerHTML = "âŒ Something went wrong. Please try again.";
      });
    });
  </script>
</body>
</html>

